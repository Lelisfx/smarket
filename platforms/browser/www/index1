<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />

    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css"/>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="js/angular-1.6.4.min.js"></script>



    <title>Hello World</title>
</head>

<body>
    <div class="page" ng-app="">
        <div class="" data-role="content">
            <form id="form_prod">
                <p>Name : <input type="text" ng-model="name"></p>
  <h1>Hello {{name}}</h1>
                <input type="text" id="nome" name="nome">
                <input type="text" id="idade" name="idade">
                <button type="submit" >Salvar</button>
            </form>
            
            <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="c" id="lisprod">

            </ul>
        </div>
    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>

    <script type="text/javascript">
        app.initialize();
        
        var form = document.getElementById('form_prod');

        form.addEventListener('submit', function(e) {
        // alerta o valor do campo
        //alert($("#nome").val()+'-.-'+$("#idade").val());
        localStorage.setItem($("#nome").val(), $("#idade").val());
        // impede o envio do form
            
         list();   
        e.preventDefault();
        });
        
        
        list();
        
        function list(){
            var size = localStorage.length;
            //alert(size);
            document.getElementById('lisprod').innerHTML = "";
            while (size >=0){
                size--;
                document.getElementById('lisprod').innerHTML += '<li>'+localStorage.key(size)+'</li>';
                
            }
        }
    </script>
</body>

</html>